<a *ngIf="routerLink; else productCard" [routerLink]="routerLink" [queryParams]="queryParams">
  <ng-container *ngTemplateOutlet="productCard"></ng-container>
</a>

<ng-template #productCard>
  <mat-card
    class="stc-product-card mat-elevation-z4"
    appearance="raised"
    (click)="productCardClicked.observed && productCardClicked.emit(product)"
  >
    <mat-card-header>
      <mat-card-title [title]="product.title">{{
        product.title
      }}</mat-card-title>
    </mat-card-header>
    <div
      class="img-container"
      mat-card-image
      [style.background-image]="'url(' + product.image + ')'"
    ></div>
    <mat-card-content>
      <p>Price: {{ product.price }}</p>
      <div class="rating" *ngIf="product.rating.rate; else noRating">
        <mat-icon
          *ngFor="let i of starsCount"
          aria-hidden="false"
          aria-label="Rating"
          fontIcon="star"
        ></mat-icon>
      </div>
      <ng-template #noRating>
        <p>Rating: N/A</p>
      </ng-template>
    </mat-card-content>
  </mat-card>
</ng-template>
